<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formül Bankası</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto+Slab:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3a0ca3;
            --accent-color: #7209b7;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4cc9f0;
            --warning-color: #f72585;
            --card-bg: #ffffff;
            --border-color: #e0e0e0;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            --gradient: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        }

        .dark-theme {
            --primary-color: #4895ef;
            --secondary-color: #560bad;
            --accent-color: #b5179e;
            --light-color: #121212;
            --dark-color: #f8f9fa;
            --card-bg: #1e1e1e;
            --border-color: #333333;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --gradient: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light-color);
            color: var(--dark-color);
            transition: var(--transition);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-image: radial-gradient(circle at 1% 1%, rgba(67, 97, 238, 0.1) 0%, transparent 80%);
        }

        .dark-theme body {
            background-image: radial-gradient(circle at 1% 1%, rgba(72, 149, 239, 0.1) 0%, transparent 80%);
        }

        header {
            background: var(--gradient);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            font-size: 2.2rem;
            background: white;
            color: var(--primary-color);
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }

        .logo-text h1 {
            font-family: 'Roboto Slab', serif;
            font-weight: 700;
            font-size: 1.8rem;
            letter-spacing: -0.5px;
        }

        .logo-text p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .search-container {
            position: relative;
            width: 350px;
        }

        .search-container input {
            width: 100%;
            padding: 12px 20px;
            padding-left: 45px;
            border: none;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 1rem;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }

        .search-container input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-container input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: white;
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: var(--shadow);
            margin-top: 10px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
            z-index: 10;
            border: 1px solid var(--border-color);
        }

        .search-result-item {
            padding: 12px 20px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .search-result-item:hover {
            background-color: rgba(var(--primary-color), 0.1);
        }

        .search-result-item h4 {
            color: var(--primary-color);
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .search-result-item p {
            font-size: 0.9rem;
            color: var(--dark-color);
            opacity: 0.8;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 12px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .btn {
            padding: 12px 25px;
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }

        .btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            flex: 1;
        }

        .section-title {
            font-family: 'Roboto Slab', serif;
            font-size: 2.2rem;
            margin-bottom: 2rem;
            color: var(--primary-color);
            text-align: center;
            position: relative;
            padding-bottom: 15px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--gradient);
            border-radius: 2px;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 3rem;
        }

        .category-card {
            background: var(--card-bg);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border-color);
            cursor: pointer;
            transform: translateY(0);
        }

        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .category-icon {
            height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            color: white;
        }

        .math .category-icon { background: linear-gradient(135deg, #4361ee, #3a0ca3); }
        .geometry .category-icon { background: linear-gradient(135deg, #f72585, #b5179e); }
        .physics .category-icon { background: linear-gradient(135deg, #4cc9f0, #4895ef); }
        .chemistry .category-icon { background: linear-gradient(135deg, #7209b7, #560bad); }
        .biology .category-icon { background: linear-gradient(135deg, #2ec4b6, #1a936f); }

        .category-content {
            padding: 25px;
        }

        .category-content h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--dark-color);
            font-weight: 700;
        }

        .subcategories {
            list-style: none;
        }

        .subcategories li {
            padding: 10px 0;
            border-bottom: 1px dashed var(--border-color);
        }

        .subcategories li:last-child {
            border-bottom: none;
        }

        .subcategories li a {
            text-decoration: none;
            color: var(--dark-color);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.05rem;
        }

        .subcategories li a:hover {
            color: var(--primary-color);
            transform: translateX(5px);
        }

        .formulas-container {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            margin-bottom: 3rem;
        }

        .formula-card {
            background: rgba(var(--primary-color), 0.05);
            border-radius: 14px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 4px solid var(--primary-color);
            transition: var(--transition);
        }

        .formula-card:hover {
            transform: scale(1.01);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .formula-card h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.4rem;
            font-weight: 700;
        }

        .formula-content {
            font-size: 1.6rem;
            font-family: 'Roboto Slab', serif;
            text-align: center;
            margin: 25px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--dark-color);
            border: 1px solid var(--border-color);
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .formula-example {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border-color);
            margin-top: 20px;
            position: relative;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }

        .formula-example::before {
            content: 'Örnek:';
            position: absolute;
            top: -12px;
            left: 20px;
            background: var(--card-bg);
            padding: 0 10px;
            font-size: 0.95rem;
            color: var(--primary-color);
            font-weight: 700;
        }

        /* Topic View */
        .topic-view {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--light-color);
            z-index: 1001;
            flex-direction: column;
        }

        .topic-header {
            background: var(--gradient);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
        }

        .topic-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .subcategory-sidebar {
            width: 300px;
            background: var(--card-bg);
            padding: 2rem;
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            box-shadow: 3px 0 10px rgba(0, 0, 0, 0.05);
        }

        .subcategory-sidebar h3 {
            color: var(--primary-color);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
            font-size: 1.5rem;
        }

        .subcategory-list {
            list-style: none;
        }

        .subcategory-list li {
            padding: 14px 20px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .subcategory-list li:hover {
            background-color: rgba(var(--primary-color), 0.1);
        }

        .subcategory-list li.active {
            background-color: rgba(var(--primary-color), 0.2);
            border-left: 4px solid var(--primary-color);
            font-weight: 600;
            color: var(--primary-color);
        }

        .topic-formulas {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.02);
        }

        .current-topic {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        .current-topic h2 {
            color: var(--primary-color);
            font-size: 2rem;
            font-weight: 700;
        }

        .topic-formula-card {
            background: rgba(var(--primary-color), 0.05);
            border-radius: 14px;
            padding: 25px;
            margin-bottom: 30px;
            transition: var(--transition);
            border: 1px solid var(--border-color);
        }

        .topic-formula-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .topic-formula-card h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .topic-formula-content {
            font-size: 1.8rem;
            font-family: 'Roboto Slab', serif;
            text-align: center;
            margin: 30px 0;
            padding: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            color: var(--dark-color);
            border: 1px solid var(--border-color);
        }

        /* Study Mode Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: var(--card-bg);
            width: 90%;
            max-width: 600px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 30px 50px rgba(0, 0, 0, 0.3);
            transform: scale(0.95);
            animation: modalIn 0.4s forwards;
        }

        @keyframes modalIn {
            to {
                transform: scale(1);
            }
        }

        .modal-header {
            background: var(--gradient);
            color: white;
            padding: 1.5rem;
            text-align: center;
        }

        .modal-header h2 {
            font-size: 1.8rem;
        }

        .modal-body {
            padding: 2rem;
        }

        .form-group {
            margin-bottom: 1.8rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--dark-color);
            font-size: 1.1rem;
        }

        .form-group select, .form-group input {
            width: 100%;
            padding: 14px 18px;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            background: var(--card-bg);
            color: var(--dark-color);
            font-size: 1.05rem;
            transition: var(--transition);
        }

        .form-group select:focus, .form-group input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
            outline: none;
        }

        .modal-footer {
            padding: 1.5rem;
            background: rgba(var(--primary-color), 0.05);
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }

        /* Study Mode Screen */
        .study-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--light-color);
            z-index: 1002;
            flex-direction: column;
        }

        .study-header {
            background: var(--gradient);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
        }

        .study-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .pomodoro-timer {
            width: 300px;
            background: var(--card-bg);
            padding: 2rem;
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-y: auto;
            box-shadow: 3px 0 10px rgba(0, 0, 0, 0.05);
        }

        .timer-display {
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin: 20px 0;
            font-family: 'Roboto Slab', serif;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .timer-controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .timer-btn {
            padding: 10px 25px;
            border: none;
            border-radius: 12px;
            background: var(--primary-color);
            color: white;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }

        .timer-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .study-formulas {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.02);
        }

        /* Admin Panel */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--light-color);
            z-index: 1003;
            flex-direction: column;
        }

        .admin-header {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
        }

        .admin-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .admin-sidebar {
            width: 250px;
            background: var(--card-bg);
            padding: 1.5rem 0;
            border-right: 1px solid var(--border-color);
            box-shadow: 3px 0 10px rgba(0, 0, 0, 0.05);
        }

        .admin-sidebar ul {
            list-style: none;
        }

        .admin-sidebar li {
            padding: 14px 25px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.05rem;
        }

        .admin-sidebar li:hover {
            background: rgba(var(--primary-color), 0.1);
        }

        .admin-sidebar li.active {
            background: rgba(var(--primary-color), 0.2);
            border-left: 4px solid var(--primary-color);
            font-weight: 600;
            color: var(--primary-color);
        }

        .admin-sidebar li i {
            width: 25px;
            text-align: center;
            margin-right: 10px;
        }

        .admin-main {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.02);
        }

        .admin-section {
            display: none;
        }

        .admin-section.active {
            display: block;
        }

        .admin-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .admin-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .admin-card h3 {
            color: var(--primary-color);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
            font-size: 1.6rem;
        }

        .admin-form-group {
            margin-bottom: 25px;
        }

        .admin-form-group label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--dark-color);
            font-size: 1.1rem;
        }

        .admin-form-group input, 
        .admin-form-group textarea, 
        .admin-form-group select {
            width: 100%;
            padding: 14px 18px;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            background: var(--card-bg);
            color: var(--dark-color);
            font-size: 1.05rem;
            transition: var(--transition);
        }

        .admin-form-group input:focus, 
        .admin-form-group textarea:focus, 
        .admin-form-group select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
            outline: none;
        }

        .admin-form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .admin-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .formula-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            transition: var(--transition);
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .formula-item:hover {
            background: rgba(var(--primary-color), 0.05);
        }

        .formula-item:last-child {
            border-bottom: none;
        }

        .formula-actions button {
            padding: 8px 15px;
            margin-left: 10px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .formula-actions .edit-btn {
            background: #4cc9f0;
            color: white;
        }

        .formula-actions .edit-btn:hover {
            background: #3ab0d5;
        }

        .formula-actions .delete-btn {
            background: #f72585;
            color: white;
        }

        .formula-actions .delete-btn:hover {
            background: #e11474;
        }

        .bulk-import {
            margin-top: 30px;
        }

        /* Login Modal */
        .login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1004;
            justify-content: center;
            align-items: center;
        }

        .login-content {
            background: var(--card-bg);
            width: 90%;
            max-width: 450px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 30px 50px rgba(0, 0, 0, 0.3);
            transform: scale(0.95);
            animation: modalIn 0.4s forwards;
        }

        .login-header {
            background: var(--gradient);
            color: white;
            padding: 1.5rem;
            text-align: center;
        }

        .login-header h2 {
            font-size: 1.8rem;
        }

        .login-body {
            padding: 2rem;
        }

        .login-footer {
            padding: 1.5rem;
            background: rgba(var(--primary-color), 0.05);
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }

        /* Footer */
        footer {
            background: var(--card-bg);
            padding: 2.5rem;
            text-align: center;
            border-top: 1px solid var(--border-color);
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.05);
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: var(--dark-color);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 1.05rem;
        }

        .footer-links a:hover {
            color: var(--primary-color);
            background: rgba(var(--primary-color), 0.1);
        }

        .admin-link {
            color: var(--accent-color) !important;
            font-weight: 700 !important;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .search-container {
                width: 250px;
            }
            
            .categories {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 15px;
                padding: 1rem;
            }
            
            .logo-container {
                margin-bottom: 10px;
            }
            
            .search-container {
                width: 100%;
                max-width: 500px;
            }
            
            .header-controls {
                width: 100%;
                justify-content: center;
            }
            
            .study-content, .topic-content {
                flex-direction: column;
            }
            
            .pomodoro-timer, .subcategory-sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }
            
            .admin-content {
                flex-direction: column;
            }
            
            .admin-sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }
        }

        @media (max-width: 576px) {
            .container {
                padding: 1.5rem;
            }
            
            .categories {
                grid-template-columns: 1fr;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            
            .timer-display {
                font-size: 2.5rem;
            }
            
            .topic-formula-content {
                font-size: 1.4rem;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body class="light-theme">
    <!-- Header -->
    <header>
        <div class="logo-container">
            <div class="logo">
                <i class="fas fa-square-root-variable"></i>
            </div>
            <div class="logo-text">
                <h1>Formül Bankası</h1>
                <p>Akılda kalıcı formüller ve örnekler</p>
            </div>
        </div>
        
        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="search-input" placeholder="Formül ara...">
            <div class="search-results" id="search-results">
                <!-- Search results will appear here -->
            </div>
        </div>
        
        <div class="header-controls">
            <button class="theme-toggle" id="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
            <button class="btn" id="study-mode-btn">
                <i class="fas fa-graduation-cap"></i> Çalışma Modu
            </button>
        </div>
    </header>
    
    <!-- Main Content -->
    <div class="container" id="main-container">
        <h2 class="section-title">Ders Kategorileri</h2>
        
        <div class="categories" id="categories-container">
            <!-- Categories will be populated by JavaScript -->
        </div>
        
        <h2 class="section-title">Popüler Formüller</h2>
        
        <div class="formulas-container" id="formulas-container">
            <!-- Formulas will be populated by JavaScript -->
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <p>Formül Bankası © 2023 - Tüm hakları saklıdır</p>
            <div class="footer-links">
                <a href="#">Hakkımızda</a>
                <a href="#">İletişim</a>
                <a href="#">Gizlilik Politikası</a>
                <a href="#" id="admin-link" class="admin-link">Yönetici Paneli</a>
            </div>
        </div>
    </footer>
    
    <!-- Topic View -->
    <div class="topic-view" id="topic-view">
        <div class="topic-header">
            <button class="btn" id="back-to-main">
                <i class="fas fa-arrow-left"></i> Geri Dön
            </button>
            <h2 id="topic-header-title">Matematik - Trigonometri</h2>
            <button class="btn" id="start-pomodoro-from-topic">
                <i class="fas fa-graduation-cap"></i> Çalışma Modu Başlat
            </button>
        </div>
        
        <div class="topic-content">
            <div class="subcategory-sidebar">
                <h3 id="sidebar-category-title">Matematik</h3>
                <ul class="subcategory-list" id="subcategory-list">
                    <!-- Subcategories will be populated here -->
                </ul>
            </div>
            <div class="topic-formulas" id="topic-formulas">
                <div class="current-topic">
                    <h2 id="topic-title">Trigonometri Formülleri</h2>
                </div>
                <!-- Formulas will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- Study Mode Modal -->
    <div class="modal" id="study-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Çalışma Modu</h2>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="lesson-select">Ders Seçin</label>
                    <select id="lesson-select">
                        <option value="">-- Ders Seçin --</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="topic-select">Konu Seçin</label>
                    <select id="topic-select">
                        <option value="">-- Önce ders seçin --</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="timer-input">Çalışma Süresi (dakika)</label>
                    <input type="number" id="timer-input" min="1" max="120" value="40">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-study">İptal</button>
                <button class="btn" id="start-study">Başlat</button>
            </div>
        </div>
    </div>
    
    <!-- Study Mode Screen -->
    <div class="study-screen" id="study-screen">
        <div class="study-header">
            <div class="study-topic">
                <h2 id="current-topic">Matematik - Trigonometri</h2>
            </div>
            <button class="btn" id="exit-study">
                <i class="fas fa-times"></i> Çalışmayı Bitir
            </button>
        </div>
        
        <div class="study-content">
            <div class="pomodoro-timer">
                <h3>Pomodoro Sayacı</h3>
                <div class="timer-display" id="timer-display">40:00</div>
                <div class="timer-controls">
                    <button class="timer-btn" id="pause-timer">
                        <i class="fas fa-pause"></i> Duraklat
                    </button>
                    <button class="timer-btn" id="reset-timer">
                        <i class="fas fa-redo"></i> Sıfırla
                    </button>
                </div>
                <div class="timer-info">
                    <p>Pomodoro tekniği, 25-30 dakika çalışma + 5 dakika mola şeklinde uygulanır. Bu teknikle daha verimli çalışabilirsiniz.</p>
                </div>
            </div>
            
            <div class="study-formulas" id="study-formulas">
                <div class="current-topic">
                    <h2 id="study-topic-title">Trigonometri Formülleri</h2>
                </div>
                <!-- Formulas will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- Admin Panel -->
    <div class="admin-panel" id="admin-panel">
        <div class="admin-header">
            <h2>Admin Paneli</h2>
            <button class="btn" id="exit-admin">
                <i class="fas fa-times"></i> Çıkış Yap
            </button>
        </div>
        
        <div class="admin-content">
            <div class="admin-sidebar">
                <ul>
                    <li class="active" data-section="site-settings"><i class="fas fa-cog"></i> Site Ayarları</li>
                    <li data-section="add-formula"><i class="fas fa-plus-circle"></i> Formül Ekle</li>
                    <li data-section="bulk-import"><i class="fas fa-file-import"></i> Toplu Formül Ekle</li>
                    <li data-section="manage-formulas"><i class="fas fa-edit"></i> Formülleri Yönet</li>
                    <li data-section="add-category"><i class="fas fa-folder-plus"></i> Kategori Ekle</li>
                    <li data-section="manage-categories"><i class="fas fa-folder-open"></i> Kategorileri Yönet</li>
                </ul>
            </div>
            
            <div class="admin-main">
                <!-- Site Settings -->
                <div class="admin-section active" id="site-settings">
                    <div class="admin-card">
                        <h3>Site Ayarları</h3>
                        <div class="admin-form-group">
                            <label for="site-title">Site Başlığı</label>
                            <input type="text" id="site-title" value="Formül Bankası">
                        </div>
                        <div class="admin-form-group">
                            <label for="site-description">Site Açıklaması</label>
                            <input type="text" id="site-description" value="Akılda kalıcı formüller ve örnekler">
                        </div>
                        <div class="admin-form-group">
                            <label for="site-logo">Logo</label>
                            <input type="text" id="site-logo" placeholder="Logo URL'si" value="https://example.com/logo.png">
                        </div>
                        <div class="admin-actions">
                            <button class="btn" id="save-settings">Ayarları Kaydet</button>
                        </div>
                    </div>
                </div>
                
                <!-- Add Formula -->
                <div class="admin-section" id="add-formula">
                    <div class="admin-card">
                        <h3>Yeni Formül Ekle</h3>
                        <div class="admin-form-group">
                            <label for="formula-title">Formül Başlığı</label>
                            <input type="text" id="formula-title" placeholder="Formül başlığını girin">
                        </div>
                        <div class="admin-form-group">
                            <label for="formula-content">Formül İçeriği</label>
                            <textarea id="formula-content" placeholder="Formülü girin"></textarea>
                        </div>
                        <div class="admin-form-group">
                            <label for="formula-example">Örnek</label>
                            <textarea id="formula-example" placeholder="Formül örneğini girin"></textarea>
                        </div>
                        <div class="admin-form-group">
                            <label for="formula-category">Kategori</label>
                            <select id="formula-category">
                                <!-- Options will be populated by JavaScript -->
                            </select>
                        </div>
                        <div class="admin-form-group">
                            <label for="formula-subcategory">Alt Kategori</label>
                            <select id="formula-subcategory">
                                <option value="">-- Önce kategori seçin --</option>
                            </select>
                        </div>
                        <div class="admin-actions">
                            <button class="btn" id="save-formula">Formülü Kaydet</button>
                        </div>
                    </div>
                </div>
                
                <!-- Bulk Import -->
                <div class="admin-section" id="bulk-import">
                    <div class="admin-card">
                        <h3>Toplu Formül Ekle</h3>
                        <div class="admin-form-group">
                            <label for="bulk-import-text">Formül Verisi (JSON formatında)</label>
                            <textarea id="bulk-import-text" placeholder='[
  {
    "title": "Formül Başlığı",
    "content": "Formül İçeriği",
    "example": "Formül Örneği",
    "category": "kategori-id",
    "subcategory": "Alt Kategori Adı"
  },
  ...
]' rows="15"></textarea>
                        </div>
                        <div class="admin-actions">
                            <button class="btn" id="import-formulas">Formülleri İçe Aktar</button>
                        </div>
                    </div>
                </div>
                
                <!-- Manage Formulas -->
                <div class="admin-section" id="manage-formulas">
                    <div class="admin-card">
                        <h3>Formülleri Yönet</h3>
                        <div id="formulas-list">
                            <!-- Formulas list will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- Add Category -->
                <div class="admin-section" id="add-category">
                    <div class="admin-card">
                        <h3>Yeni Kategori Ekle</h3>
                        <div class="admin-form-group">
                            <label for="category-name">Kategori Adı</label>
                            <input type="text" id="category-name" placeholder="Kategori adını girin">
                        </div>
                        <div class="admin-form-group">
                            <label for="category-icon">Kategori İkonu (Font Awesome)</label>
                            <input type="text" id="category-icon" placeholder="fas fa-icon">
                        </div>
                        <div class="admin-form-group">
                            <label for="category-color">Renk</label>
                            <select id="category-color">
                                <option value="math">Matematik (Mavi)</option>
                                <option value="geometry">Geometri (Pembe)</option>
                                <option value="physics">Fizik (Açık Mavi)</option>
                                <option value="chemistry">Kimya (Mor)</option>
                                <option value="biology">Biyoloji (Yeşil)</option>
                            </select>
                        </div>
                        <div class="admin-actions">
                            <button class="btn" id="save-category">Kategoriyi Kaydet</button>
                        </div>
                    </div>
                </div>
                
                <!-- Manage Categories -->
                <div class="admin-section" id="manage-categories">
                    <div class="admin-card">
                        <h3>Kategorileri Yönet</h3>
                        <div id="categories-list">
                            <!-- Categories list will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Admin Login Modal -->
    <div class="login-modal" id="admin-login-modal">
        <div class="login-content">
            <div class="login-header">
                <h2>Yönetici Girişi</h2>
            </div>
            <div class="login-body">
                <div class="form-group">
                    <label for="admin-username">Kullanıcı Adı</label>
                    <input type="text" id="admin-username" placeholder="Kullanıcı adınız">
                </div>
                <div class="form-group">
                    <label for="admin-password">Şifre</label>
                    <input type="password" id="admin-password" placeholder="Şifreniz">
                </div>
            </div>
            <div class="login-footer">
                <button class="btn btn-secondary" id="cancel-admin-login">İptal</button>
                <button class="btn" id="admin-login-btn">Giriş Yap</button>
            </div>
        </div>
    </div>
    
    <script>
        // Veri Yapısı
        let appData = {
            siteSettings: {
                title: "Formül Bankası",
                description: "Akılda kalıcı formüller ve örnekler",
                logo: ""
            },
            categories: [
                {
                    id: "matematik",
                    name: "Matematik",
                    icon: "fas fa-calculator",
                    color: "math",
                    subcategories: ["Trigonometri", "Fonksiyonlar", "Türev", "İntegral", "Logaritma", "Limit"]
                },
                {
                    id: "geometri",
                    name: "Geometri",
                    icon: "fas fa-shapes",
                    color: "geometry",
                    subcategories: ["Üçgenler", "Çember", "Katı Cisimler", "Vektörler", "Analitik Geometri"]
                },
                {
                    id: "fizik",
                    name: "Fizik",
                    icon: "fas fa-atom",
                    color: "physics",
                    subcategories: ["Mekanik", "Elektrik", "Manyetizma", "Optik", "Termodinamik"]
                },
                {
                    id: "kimya",
                    name: "Kimya",
                    icon: "fas fa-flask",
                    color: "chemistry",
                    subcategories: ["Organik Kimya", "İnorganik Kimya", "Kimyasal Tepkimeler", "Mol Kavramı", "Asitler ve Bazlar"]
                },
                {
                    id: "biyoloji",
                    name: "Biyoloji",
                    icon: "fas fa-dna",
                    color: "biology",
                    subcategories: ["Hücre", "Genetik", "Ekosistem", "İnsan Fizyolojisi", "Canlıların Sınıflandırılması"]
                }
            ],
            formulas: [
                {
                    id: "formula1",
                    title: "Trigonometrik Özdeşlikler",
                    content: "sin²θ + cos²θ = 1",
                    example: "Örnek: sin30° = 0.5, cos30° = √3/2 ≈ 0.866 olduğundan,<br>(0.5)² + (0.866)² = 0.25 + 0.75 = 1",
                    category: "matematik",
                    subcategory: "Trigonometri"
                },
                {
                    id: "formula2",
                    title: "Newton'un Hareket Yasası",
                    content: "F = m · a",
                    example: "Örnek: 2 kg kütleli bir cisme 10 N kuvvet uygulandığında,<br>a = F/m = 10/2 = 5 m/s² ivme kazanır.",
                    category: "fizik",
                    subcategory: "Mekanik"
                },
                {
                    id: "formula3",
                    title: "İdeal Gaz Denklemi",
                    content: "P · V = n · R · T",
                    example: "Örnek: 1 mol gaz, 273K sıcaklıkta ve 1 atm basınçta,<br>V = (nRT)/P = (1 × 0.082 × 273)/1 = 22.4 L",
                    category: "kimya",
                    subcategory: "Kimyasal Tepkimeler"
                },
                {
                    id: "formula4",
                    title: "Pisagor Teoremi",
                    content: "a² + b² = c²",
                    example: "Örnek: Bir dik üçgende dik kenarlar 3cm ve 4cm ise,<br>hipotenüs = √(3² + 4²) = √(9+16) = √25 = 5cm",
                    category: "geometri",
                    subcategory: "Üçgenler"
                },
                {
                    id: "formula5",
                    title: "Logaritma Özdeşliği",
                    content: "logₐ(b·c) = logₐb + logₐc",
                    example: "Örnek: log₂(4·8) = log₂4 + log₂8 = 2 + 3 = 5",
                    category: "matematik",
                    subcategory: "Logaritma"
                }
            ]
        };

        // Tema değiştirme
        const themeToggle = document.getElementById('theme-toggle');
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-theme');
            const isDarkMode = document.body.classList.contains('dark-theme');
            themeToggle.innerHTML = isDarkMode ? 
                '<i class="fas fa-sun"></i>' : 
                '<i class="fas fa-moon"></i>';
            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
        });

        // Sayfa yüklendiğinde temayı ayarla
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-theme');
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        }

        // Kategorileri oluştur
        function renderCategories() {
            const container = document.getElementById('categories-container');
            container.innerHTML = '';
            
            appData.categories.forEach(category => {
                const card = document.createElement('div');
                card.className = `category-card ${category.color}`;
                card.innerHTML = `
                    <div class="category-icon">
                        <i class="${category.icon}"></i>
                    </div>
                    <div class="category-content">
                        <h3>${category.name}</h3>
                        <ul class="subcategories">
                            ${category.subcategories.map(sub => `
                                <li><a href="#" data-category="${category.id}" data-subcategory="${sub}">
                                    <i class="fas fa-angle-right"></i> ${sub}
                                </a></li>
                            `).join('')}
                        </ul>
                    </div>
                `;
                container.appendChild(card);
                
                // Alt kategori tıklama olayları
                card.querySelectorAll('.subcategories a').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const categoryId = link.getAttribute('data-category');
                        const subcategory = link.getAttribute('data-subcategory');
                        showTopicView(categoryId, subcategory);
                    });
                });
            });
        }

        // Formülleri oluştur
        function renderFormulas() {
            const container = document.getElementById('formulas-container');
            container.innerHTML = '';
            
            // En fazla 5 formül göster
            const formulasToShow = [...appData.formulas].slice(0, 5);
            
            formulasToShow.forEach(formula => {
                const category = appData.categories.find(c => c.id === formula.category);
                const formulaCard = document.createElement('div');
                formulaCard.className = 'formula-card';
                formulaCard.innerHTML = `
                    <h3>${formula.title}</h3>
                    <div class="formula-content">${formula.content}</div>
                    <div class="formula-example">
                        ${formula.example}
                        <div class="formula-meta">${category.name} > ${formula.subcategory}</div>
                    </div>
                `;
                container.appendChild(formulaCard);
            });
        }

        // Konu görünümünü göster
        function showTopicView(categoryId, subcategory) {
            const category = appData.categories.find(c => c.id === categoryId);
            if (!category) return;
            
            // Başlığı ayarla
            document.getElementById('topic-header-title').textContent = `${category.name} - ${subcategory}`;
            document.getElementById('sidebar-category-title').textContent = category.name;
            document.getElementById('topic-title').textContent = `${subcategory} Formülleri`;
            
            // Alt kategori listesini oluştur
            const subcategoryList = document.getElementById('subcategory-list');
            subcategoryList.innerHTML = '';
            
            category.subcategories.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                li.className = item === subcategory ? 'active' : '';
                li.addEventListener('click', () => {
                    showTopicView(categoryId, item);
                });
                subcategoryList.appendChild(li);
            });
            
            // Formülleri göster
            const formulasContainer = document.getElementById('topic-formulas');
            const formulasDiv = document.createElement('div');
            formulasDiv.id = 'topic-formulas-container';
            
            const filteredFormulas = appData.formulas.filter(formula => 
                formula.category === categoryId && formula.subcategory === subcategory
            );
            
            if (filteredFormulas.length === 0) {
                formulasDiv.innerHTML = `
                    <div class="topic-formula-card">
                        <h3>Formül Bulunamadı</h3>
                        <p>Bu konu için henüz formül eklenmemiş.</p>
                    </div>
                `;
            } else {
                filteredFormulas.forEach(formula => {
                    const formulaCard = document.createElement('div');
                    formulaCard.className = 'topic-formula-card';
                    formulaCard.innerHTML = `
                        <h3>${formula.title}</h3>
                        <div class="topic-formula-content">${formula.content}</div>
                        <div class="formula-example">
                            ${formula.example}
                        </div>
                    `;
                    formulasDiv.appendChild(formulaCard);
                });
            }
            
            // Eski formülleri kaldır ve yenilerini ekle
            const oldContainer = document.getElementById('topic-formulas-container');
            if (oldContainer) oldContainer.remove();
            formulasContainer.appendChild(formulasDiv);
            
            // Görünümü göster
            document.getElementById('main-container').style.display = 'none';
            document.getElementById('topic-view').style.display = 'flex';
        }

        // Çalışma modu için formülleri göster
        function renderStudyFormulas(categoryId, subcategory) {
            const container = document.getElementById('study-formulas');
            // Başlığı temizle
            container.querySelector('.current-topic').innerHTML = `<h2>${subcategory} Formülleri</h2>`;
            
            // Formülleri temizle
            const formulasContainer = document.createElement('div');
            formulasContainer.id = 'study-formulas-container';
            
            // Filtrelenmiş formülleri al
            const filteredFormulas = appData.formulas.filter(formula => 
                formula.category === categoryId && formula.subcategory === subcategory
            );
            
            if (filteredFormulas.length === 0) {
                formulasContainer.innerHTML = `
                    <div class="topic-formula-card">
                        <h3>Formül Bulunamadı</h3>
                        <p>Bu konu için henüz formül eklenmemiş.</p>
                    </div>
                `;
            } else {
                filteredFormulas.forEach(formula => {
                    const formulaCard = document.createElement('div');
                    formulaCard.className = 'topic-formula-card';
                    formulaCard.innerHTML = `
                        <h3>${formula.title}</h3>
                        <div class="topic-formula-content">${formula.content}</div>
                        <div class="formula-example">
                            ${formula.example}
                        </div>
                    `;
                    formulasContainer.appendChild(formulaCard);
                });
            }
            
            // Eski formülleri kaldır ve yenilerini ekle
            const oldContainer = document.getElementById('study-formulas-container');
            if (oldContainer) oldContainer.remove();
            container.appendChild(formulasContainer);
        }

        // Çalışma modu için ders seçeneklerini doldur
        function populateLessonSelect() {
            const select = document.getElementById('lesson-select');
            select.innerHTML = '<option value="">-- Ders Seçin --</option>';
            
            appData.categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.name;
                select.appendChild(option);
            });
        }

        // Çalışma modu için konu seçeneklerini doldur
        function populateTopicSelect(categoryId) {
            const select = document.getElementById('topic-select');
            select.innerHTML = '<option value="">-- Konu Seçin --</option>';
            
            const category = appData.categories.find(c => c.id === categoryId);
            if (category) {
                category.subcategories.forEach(subcategory => {
                    const option = document.createElement('option');
                    option.value = subcategory;
                    option.textContent = subcategory;
                    select.appendChild(option);
                });
            }
        }

        // Admin paneli için kategori seçeneklerini doldur
        function populateCategorySelect() {
            const select = document.getElementById('formula-category');
            select.innerHTML = '<option value="">-- Kategori Seçin --</option>';
            
            appData.categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.name;
                select.appendChild(option);
            });
        }

        // Admin paneli için alt kategori seçeneklerini doldur
        function populateSubcategorySelect(categoryId) {
            const select = document.getElementById('formula-subcategory');
            select.innerHTML = '<option value="">-- Alt Kategori Seçin --</option>';
            
            const category = appData.categories.find(c => c.id === categoryId);
            if (category) {
                category.subcategories.forEach(subcategory => {
                    const option = document.createElement('option');
                    option.value = subcategory;
                    option.textContent = subcategory;
                    select.appendChild(option);
                });
            }
        }

        // Formülleri yönetme listesini oluştur
        function renderFormulasList() {
            const container = document.getElementById('formulas-list');
            container.innerHTML = '';
            
            if (appData.formulas.length === 0) {
                container.innerHTML = '<p>Henüz formül eklenmemiş.</p>';
                return;
            }
            
            appData.formulas.forEach(formula => {
                const category = appData.categories.find(c => c.id === formula.category);
                const formulaItem = document.createElement('div');
                formulaItem.className = 'formula-item';
                formulaItem.innerHTML = `
                    <div>
                        <strong>${formula.title}</strong>
                        <div>${category.name} > ${formula.subcategory}</div>
                    </div>
                    <div class="formula-actions">
                        <button class="edit-btn" data-id="${formula.id}"><i class="fas fa-edit"></i></button>
                        <button class="delete-btn" data-id="${formula.id}"><i class="fas fa-trash"></i></button>
                    </div>
                `;
                container.appendChild(formulaItem);
            });
            
            // Silme butonlarına event ekle
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const id = btn.getAttribute('data-id');
                    deleteFormula(id);
                });
            });
        }

        // Kategorileri yönetme listesini oluştur
        function renderCategoriesList() {
            const container = document.getElementById('categories-list');
            container.innerHTML = '';
            
            appData.categories.forEach(category => {
                const categoryItem = document.createElement('div');
                categoryItem.className = 'formula-item';
                categoryItem.innerHTML = `
                    <div>
                        <strong>${category.name}</strong>
                        <div>${category.subcategories.length} alt kategori</div>
                    </div>
                    <div class="formula-actions">
                        <button class="delete-btn" data-id="${category.id}"><i class="fas fa-trash"></i></button>
                    </div>
                `;
                container.appendChild(categoryItem);
            });
        }

        // Formül silme
        function deleteFormula(id) {
            if (confirm('Bu formülü silmek istediğinize emin misiniz?')) {
                appData.formulas = appData.formulas.filter(formula => formula.id !== id);
                renderFormulasList();
                renderFormulas();
                saveDataToStorage();
            }
        }

        // Veriyi localStorage'a kaydet
        function saveDataToStorage() {
            localStorage.setItem('formulBankasiData', JSON.stringify(appData));
        }

        // Veriyi localStorage'dan yükle
        function loadDataFromStorage() {
            const savedData = localStorage.getItem('formulBankasiData');
            if (savedData) {
                appData = JSON.parse(savedData);
            }
        }

        // Sayfa yüklendiğinde
        window.addEventListener('DOMContentLoaded', () => {
            // Veriyi yükle
            loadDataFromStorage();
            
            // UI bileşenlerini oluştur
            renderCategories();
            renderFormulas();
            populateLessonSelect();
            populateCategorySelect();
            
            // Site başlığını ayarla
            document.title = appData.siteSettings.title;
            document.querySelector('.logo-text h1').textContent = appData.siteSettings.title;
            document.querySelector('.logo-text p').textContent = appData.siteSettings.description;
            
            // Admin paneli için başlangıç değerlerini ayarla
            document.getElementById('site-title').value = appData.siteSettings.title;
            document.getElementById('site-description').value = appData.siteSettings.description;
            document.getElementById('site-logo').value = appData.siteSettings.logo;
            
            // Ders seçimine göre konuları doldur
            const lessonSelect = document.getElementById('lesson-select');
            lessonSelect.addEventListener('change', () => {
                populateTopicSelect(lessonSelect.value);
            });
            
            // Kategori seçimine göre alt kategorileri doldur (admin)
            const formulaCategory = document.getElementById('formula-category');
            formulaCategory.addEventListener('change', () => {
                populateSubcategorySelect(formulaCategory.value);
            });
            
            // Çalışma modu butonu
            const studyModeBtn = document.getElementById('study-mode-btn');
            studyModeBtn.addEventListener('click', () => {
                document.getElementById('study-modal').style.display = 'flex';
            });
            
            // Çalışma modu iptal
            const cancelStudyBtn = document.getElementById('cancel-study');
            cancelStudyBtn.addEventListener('click', () => {
                document.getElementById('study-modal').style.display = 'none';
            });
            
            // Çalışma modu başlat
            const startStudyBtn = document.getElementById('start-study');
            startStudyBtn.addEventListener('click', () => {
                const lesson = document.getElementById('lesson-select').value;
                const topic = document.getElementById('topic-select').value;
                const time = parseInt(document.getElementById('timer-input').value) || 40;
                
                if (!lesson || !topic) {
                    alert('Lütfen ders ve konu seçin!');
                    return;
                }
                
                const lessonName = appData.categories.find(c => c.id === lesson).name;
                document.getElementById('current-topic').textContent = `${lessonName} - ${topic}`;
                document.getElementById('study-topic-title').textContent = `${topic} Formülleri`;
                
                // Formülleri göster
                renderStudyFormulas(lesson, topic);
                
                // Timer'ı başlat
                startTimer(time * 60);
                
                document.getElementById('study-modal').style.display = 'none';
                document.getElementById('study-screen').style.display = 'flex';
            });
            
            // Çalışmayı bitir
            const exitStudyBtn = document.getElementById('exit-study');
            exitStudyBtn.addEventListener('click', () => {
                document.getElementById('study-screen').style.display = 'none';
                clearInterval(timerInterval);
            });
            
            // Konu görünümünden çalışma modu başlat
            const startPomodoroBtn = document.getElementById('start-pomodoro-from-topic');
            startPomodoroBtn.addEventListener('click', () => {
                const categoryId = document.getElementById('topic-header-title').textContent.split(' - ')[0];
                const category = appData.categories.find(c => c.name === categoryId);
                if (!category) return;
                
                const subcategory = document.getElementById('topic-title').textContent.split(' ')[0];
                
                document.getElementById('current-topic').textContent = `${category.name} - ${subcategory}`;
                document.getElementById('study-topic-title').textContent = `${subcategory} Formülleri`;
                
                // Formülleri göster
                renderStudyFormulas(category.id, subcategory);
                
                // Timer'ı başlat
                startTimer(40 * 60);
                
                document.getElementById('topic-view').style.display = 'none';
                document.getElementById('study-screen').style.display = 'flex';
            });
            
            // Ana sayfaya dön
            const backToMainBtn = document.getElementById('back-to-main');
            backToMainBtn.addEventListener('click', () => {
                document.getElementById('topic-view').style.display = 'none';
                document.getElementById('main-container').style.display = 'block';
            });
            
            // Pomodoro Timer
            let timerInterval;
            let totalSeconds;
            let isPaused = false;
            const timerDisplay = document.getElementById('timer-display');
            const pauseTimerBtn = document.getElementById('pause-timer');
            const resetTimerBtn = document.getElementById('reset-timer');
            
            function startTimer(seconds) {
                totalSeconds = seconds;
                updateTimerDisplay();
                
                if (timerInterval) clearInterval(timerInterval);
                
                timerInterval = setInterval(() => {
                    if (!isPaused) {
                        totalSeconds--;
                        updateTimerDisplay();
                        
                        if (totalSeconds <= 0) {
                            clearInterval(timerInterval);
                            alert('Çalışma süreniz bitti!');
                        }
                    }
                }, 1000);
            }
            
            function updateTimerDisplay() {
                const minutes = Math.floor(totalSeconds / 60);
                const seconds = totalSeconds % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            
            pauseTimerBtn.addEventListener('click', () => {
                isPaused = !isPaused;
                pauseTimerBtn.innerHTML = isPaused ? 
                    '<i class="fas fa-play"></i> Devam Et' : 
                    '<i class="fas fa-pause"></i> Duraklat';
            });
            
            resetTimerBtn.addEventListener('click', () => {
                const time = parseInt(document.getElementById('timer-input').value) || 40;
                startTimer(time * 60);
                isPaused = false;
                pauseTimerBtn.innerHTML = '<i class="fas fa-pause"></i> Duraklat';
            });
            
            // Admin çıkış
            const exitAdminBtn = document.getElementById('exit-admin');
            exitAdminBtn.addEventListener('click', () => {
                document.getElementById('admin-panel').style.display = 'none';
            });
            
            // Admin menü geçişleri
            document.querySelectorAll('.admin-sidebar li').forEach(item => {
                item.addEventListener('click', () => {
                    // Aktif öğeyi güncelle
                    document.querySelector('.admin-sidebar li.active').classList.remove('active');
                    item.classList.add('active');
                    
                    // İlgili bölümü göster
                    const sectionId = item.getAttribute('data-section');
                    document.querySelectorAll('.admin-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    document.getElementById(sectionId).classList.add('active');
                });
            });
            
            // Site ayarlarını kaydet
            const saveSettingsBtn = document.getElementById('save-settings');
            saveSettingsBtn.addEventListener('click', () => {
                appData.siteSettings.title = document.getElementById('site-title').value;
                appData.siteSettings.description = document.getElementById('site-description').value;
                appData.siteSettings.logo = document.getElementById('site-logo').value;
                
                // UI'ı güncelle
                document.title = appData.siteSettings.title;
                document.querySelector('.logo-text h1').textContent = appData.siteSettings.title;
                document.querySelector('.logo-text p').textContent = appData.siteSettings.description;
                
                saveDataToStorage();
                alert('Site ayarları başarıyla kaydedildi!');
            });
            
            // Formül kaydet
            const saveFormulaBtn = document.getElementById('save-formula');
            saveFormulaBtn.addEventListener('click', () => {
                const title = document.getElementById('formula-title').value;
                const content = document.getElementById('formula-content').value;
                const example = document.getElementById('formula-example').value;
                const category = document.getElementById('formula-category').value;
                const subcategory = document.getElementById('formula-subcategory').value;
                
                if (!title || !content || !category || !subcategory) {
                    alert('Lütfen tüm alanları doldurun!');
                    return;
                }
                
                const newFormula = {
                    id: 'formula' + Date.now(),
                    title,
                    content,
                    example,
                    category,
                    subcategory
                };
                
                appData.formulas.push(newFormula);
                saveDataToStorage();
                
                // Formları temizle
                document.getElementById('formula-title').value = '';
                document.getElementById('formula-content').value = '';
                document.getElementById('formula-example').value = '';
                
                // Listeleri güncelle
                renderFormulasList();
                renderFormulas();
                
                alert('Formül başarıyla eklendi!');
            });
            
            // Toplu formül ekleme
            const importFormulasBtn = document.getElementById('import-formulas');
            importFormulasBtn.addEventListener('click', () => {
                const importText = document.getElementById('bulk-import-text').value;
                
                if (!importText) {
                    alert('Lütfen formül verisi girin!');
                    return;
                }
                
                try {
                    const formulasToImport = JSON.parse(importText);
                    
                    if (!Array.isArray(formulasToImport)) {
                        throw new Error('Geçersiz veri formatı');
                    }
                    
                    formulasToImport.forEach(formula => {
                        const newFormula = {
                            id: 'formula' + Date.now() + Math.floor(Math.random() * 1000),
                            title: formula.title || 'Formül',
                            content: formula.content || '',
                            example: formula.example || '',
                            category: formula.category || 'matematik',
                            subcategory: formula.subcategory || 'Genel'
                        };
                        appData.formulas.push(newFormula);
                    });
                    
                    saveDataToStorage();
                    renderFormulasList();
                    renderFormulas();
                    
                    alert(`${formulasToImport.length} formül başarıyla eklendi!`);
                    
                    // Formu temizle
                    document.getElementById('bulk-import-text').value = '';
                } catch (error) {
                    alert('Hata: Geçersiz JSON formatı! Lütfen doğru formatta veri girin.');
                    console.error(error);
                }
            });
            
            // Kategori kaydet
            const saveCategoryBtn = document.getElementById('save-category');
            saveCategoryBtn.addEventListener('click', () => {
                const name = document.getElementById('category-name').value;
                const icon = document.getElementById('category-icon').value;
                const color = document.getElementById('category-color').value;
                
                if (!name || !icon) {
                    alert('Lütfen kategori adı ve ikonunu girin!');
                    return;
                }
                
                const newCategory = {
                    id: name.toLowerCase().replace(/\s+/g, '-'),
                    name,
                    icon,
                    color,
                    subcategories: []
                };
                
                appData.categories.push(newCategory);
                saveDataToStorage();
                
                // Formları temizle
                document.getElementById('category-name').value = '';
                document.getElementById('category-icon').value = '';
                
                // Listeleri güncelle
                renderCategories();
                populateLessonSelect();
                populateCategorySelect();
                renderCategoriesList();
                
                alert('Kategori başarıyla eklendi!');
            });
            
            // Arama fonksiyonu
            const searchInput = document.getElementById('search-input');
            const searchResults = document.getElementById('search-results');
            
            searchInput.addEventListener('input', () => {
                const query = searchInput.value.toLowerCase().trim();
                searchResults.innerHTML = '';
                
                if (query.length < 1) {
                    searchResults.style.display = 'none';
                    return;
                }
                
                const results = appData.formulas.filter(item => 
                    item.title.toLowerCase().includes(query) || 
                    item.content.toLowerCase().includes(query) ||
                    item.subcategory.toLowerCase().includes(query)
                );
                
                if (results.length > 0) {
                    results.forEach(item => {
                        const category = appData.categories.find(c => c.id === item.category);
                        const resultItem = document.createElement('div');
                        resultItem.className = 'search-result-item';
                        resultItem.innerHTML = `
                            <h4>${item.title}</h4>
                            <p>${item.content} (${category.name} > ${item.subcategory})</p>
                        `;
                        resultItem.addEventListener('click', () => {
                            // Konu görünümünde göster
                            showTopicView(item.category, item.subcategory);
                            searchResults.style.display = 'none';
                        });
                        searchResults.appendChild(resultItem);
                    });
                    searchResults.style.display = 'block';
                } else {
                    const noResult = document.createElement('div');
                    noResult.className = 'search-result-item';
                    noResult.innerHTML = '<p>Sonuç bulunamadı</p>';
                    searchResults.appendChild(noResult);
                    searchResults.style.display = 'block';
                }
            });
            
            // Dışarı tıklayınca arama sonuçlarını gizle
            document.addEventListener('click', (e) => {
                if (!searchResults.contains(e.target) && e.target !== searchInput) {
                    searchResults.style.display = 'none';
                }
            });
            
            // Yönetici Paneli linki
            const adminLink = document.getElementById('admin-link');
            adminLink.addEventListener('click', (e) => {
                e.preventDefault();
                document.getElementById('admin-login-modal').style.display = 'flex';
            });
            
            // Admin giriş iptal
            const cancelAdminLogin = document.getElementById('cancel-admin-login');
            cancelAdminLogin.addEventListener('click', () => {
                document.getElementById('admin-login-modal').style.display = 'none';
            });
            
            // Admin giriş
            const adminLoginBtn = document.getElementById('admin-login-btn');
            adminLoginBtn.addEventListener('click', () => {
                const username = document.getElementById('admin-username').value;
                const password = document.getElementById('admin-password').value;
                
                if (username === 'admin' && password === 'k.aaN/2008') {
                    document.getElementById('admin-login-modal').style.display = 'none';
                    document.getElementById('admin-panel').style.display = 'flex';
                    renderFormulasList();
                    renderCategoriesList();
                } else {
                    alert('Kullanıcı adı veya şifre hatalı!');
                }
            });
        });
    </script>
</body>
</html>